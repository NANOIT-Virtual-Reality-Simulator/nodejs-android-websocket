<!DOCTYPE HTML>
<html>
<head>
    <script type="text/javascript" src="js/smoothie.js"></script>
    <script type="text/javascript" src="js/ball.js"></script>
    <script type="text/javascript" src="js/slider.js"></script>
    <script type="text/javascript" src="js/board.js"></script>
    <script type="text/javascript" src="js/websocket.js"></script>
</head>

<body>
<canvas id="chart" width="400" height="100"></canvas>
<br/>
<input id="connectButton" type="button" onClick="javascript:wsClient.connect()" value="Connect"/> &nbsp;
<input id="newGameButton" type="button" onClick="javascript:board.resetBoard()" value="New Game"/>


<br/><br/>
<div id="board" style="width: 1200px; height: 660px; background: #eeeeee; padding: 10px; border: solid 1px #888888; overflow-x: hidden;">
  <div id="ball" style="position: relative; top: 0; left: 0;"><img src="soccer_ball.png"/></div>
  <div id="slider" style="border-radius: 4px; position: absolute; top: 800px; left: 20px; width: 100px; height: 12px; border: solid 1px #000000; background: #cccccc;"></div>
</div>

<script type="text/javascript">

  // Initialize live update chart
  var series = new TimeSeries();
  var smoothie = new SmoothieChart({ grid: { strokeStyle: 'rgb(0, 125, 0)', fillStyle: 'rgb(รถ, 60, 0)', lineWidth: 1, millisPerLine: 250, verticalSections: 6 } });
  smoothie.addTimeSeries(series, { strokeStyle: 'rgb(0, 255, 0)', fillStyle: 'rgba(0, 255, 0, 0.4)', lineWidth: 3 });
  smoothie.streamTo(document.getElementById("chart"), 1000);

  // Initialize game
  var slider = new Slider();
  var ball = new Ball(slider);
  var board = new Board(ball, slider);
  var wsClient = new PingSquashWebsocketClient('ws://192.168.1.100:3000', slider, series);

  // Ball has to know about the boundaries (board's boundaries), and slider (position).
  ball.board = board;
  ball.slider = slider;

  // Start moving slider. Right now the speed is zero, so it will not move. You can make it move by shaking your mobile phone 
  // (if WS is connected), or using arrow keys on keyboard.
  slider.moveSlider();  


</script>
</body>
</html>